<!-- file: insertar-movimientos.html -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Insertar Movimientos</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    body { background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); min-height: 100vh; display: flex; justify-content: center; align-items: center; padding: 20px; }
    .container { background-color: #fff; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,.2); width: 100%; max-width: 450px; padding: 30px; }
    h1 { color: #333; text-align: center; margin-bottom: 30px; font-weight: 600; font-size: 24px; }
    .form-group { margin-bottom: 20px; }
    label { display: block; margin-bottom: 8px; font-weight: 500; color: #555; }
    input, select { width: 100%; padding: 12px 15px; border: 1px solid #ddd; border-radius: 6px; font-size: 16px; transition: all .3s; }
    input:focus, select:focus { outline: none; border-color: #4a90e2; box-shadow: 0 0 0 2px rgba(74,144,226,.2); }
    .buttons { display: flex; gap: 15px; margin-top: 30px; }
    button { flex: 1; padding: 12px; border: none; border-radius: 6px; font-size: 16px; font-weight: 500; cursor: pointer; transition: all .3s; }
    .save-btn { background-color: #4a90e2; color: #fff; }
    .save-btn:hover { background-color: #3a7bc8; transform: translateY(-2px); }
    .back-btn { background-color: #f5f5f5; color: #333; }
    .back-btn:hover { background-color: #e0e0e0; transform: translateY(-2px); }
    .logo { text-align: center; margin-bottom: 20px; }
    .logo i { font-size: 48px; color: #4a90e2; }
  </style>
</head>
<body>
  <div class="container">
    <div class="logo">
      <span style="font-size: 48px;" aria-hidden="true"></span>
    </div>
    <h1>Insertar Movimientos</h1>

    <form id="employeeForm" action="#" method="post">
      <div class="form-group">
        <label for="document">Valor documento identidad</label>
        <input type="text" id="document" name="document" placeholder="Ingrese el número de documento" required />
      </div>

      <div class="form-group">
        <label for="name">Nombre completo</label>
        <input type="text" id="name" name="name" placeholder="Ingrese el nombre completo" required />
      </div>

      <div class="form-group">
        <label for="position">Tipos de Movimientos</label>
        <select id="position" name="position" required>
          <option value="" disabled selected>Seleccione un Movimiento</option>
        </select>
      </div>

      <div class="buttons">
        <button type="submit" class="save-btn">Guardar</button>
      </div>
    </form>
  </div>

  <script>
    // Por qué: logs para validar datos recibidos y opciones renderizadas
   async function cargarTipoMov() {
    const select = document.getElementById('position');
    try {
        const res = await fetch('/tipoMovs'); // 
        if (!res.ok) throw new Error('Error HTTP: ' + res.status);

        const Tipos = await res.json();

        // Limpiar select y agregar opción por defecto
        select.innerHTML = '<option value="" disabled selected>Seleccione un puesto</option>';

        Tipos.forEach(p => {
            const option = document.createElement('option');
            option.value = p.Nombre; // aquí viene de tu SP
            option.textContent = p.Nombre;
            select.appendChild(option);
        });

    } catch (err) {
        console.error('Error al cargar puestos:', err);
        select.innerHTML = '<option value="" disabled selected>Error al cargar puestos</option>';
    }
}

    document.addEventListener('DOMContentLoaded', cargarTipoMov);
  </script>
</body>
</html>
